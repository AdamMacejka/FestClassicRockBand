<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Fest Classic Rock Band</title>
  <link rel="stylesheet" href="styles.css"/>
  <!-- js-yaml na parsovanie YAML z CMS -->
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
</head>
<body>
  <header class="hero" id="hero">
    <div class="overlay">
      <h1 id="band-name">Fest Classic Rock Band</h1>
      <p id="tagline">Rockové hity, ktoré nezabúdajú</p>
      <nav>
        <a href="#about">O nás</a>
        <a href="#members">Členovia</a>
        <a href="#concerts">Koncerty</a>
        <a href="#contact">Kontakt</a>
      </nav>
    </div>
  </header>

  <section id="about" class="section">
    <h2>O nás</h2>
    <div id="about-text">
      <p>Text doplníme neskôr...</p>
    </div>
  </section>

  <section id="members" class="section">
    <h2>Členovia</h2>
    <div class="members-grid">
      <!-- môžeš buď staticky, alebo doplniť dynamicky podobne ako nižšie -->
      <div class="member">
        <div class="photo-placeholder"></div>
        <h3>Miro</h3>
        <p>Basgitara</p>
      </div>
      <!-- ďalší -->
    </div>
  </section>

  <section id="concerts" class="section">
    <h2>Koncerty</h2>
    <p>Informácie o koncertoch doplníme čoskoro.</p>
  </section>

  <section id="contact" class="section">
    <h2>Kontakt</h2>
    <p>Email: <a id="contact-email" href="mailto:booking@festclassicrockband.com">booking@festclassicrockband.com</a></p>
  </section>

  <footer class="footer">
    <p>© 2025 Fest Classic Rock Band</p>
  </footer>

  <script>
    async function loadHomepage() {
      try {
        const res = await fetch('/content/homepage.yml');
        if (!res.ok) throw new Error('Nepodarilo sa stiahnuť homepage.yml');
        const text = await res.text();
        const data = jsyaml.load(text);

        // Titulka
        document.getElementById('band-name').textContent = data.band_name || '';
        document.getElementById('tagline').textContent = data.tagline || '';

        // Cover image ako pozadie headeru
        if (data.cover_image) {
          const hero = document.getElementById('hero');
          hero.style.backgroundImage = `url('${data.cover_image}')`;
          hero.style.backgroundSize = 'cover';
          hero.style.backgroundPosition = 'center';
        }

        // O nás
        if (data.about_text) {
          document.getElementById('about-text').innerHTML = marked ? marked(data.about_text) : '<p>' + data.about_text + '</p>';
        }

        // Kontakt
        if (data.contact_email) {
          const emailEl = document.getElementById('contact-email');
          emailEl.textContent = data.contact_email;
          emailEl.href = 'mailto:' + data.contact_email;
        }
      } catch (e) {
        console.error('Chyba pri načítaní homepage obsahu:', e);
      }
    }

    // voliteľne: načítať markdown správne (ak chceš formátovanie)
    // pridaj pred týmto <script> napr.:
    // <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    loadHomepage();
  </script>
</body>
</html>
